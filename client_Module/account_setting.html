<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="assets/account_setting.css">
    <link rel="stylesheet" href="assets/base.css">
    <title>Profile</title>
  </head>
  <body>
    <nav class="navbar">
      <img src="assets/images/logo.svg" alt="Logo" class="logo"/>
      <button class="topnavOpen" id="btnOpen" aria-expanded="false">
        <i class="bx bx-menu"></i>
      </button>
      <div class="topnav">
        <button class="topnavClose" id="btnClose">
          <i class="bx bx-x"></i>
        </button>
        <ul class="nav_list">
          <li class="nav_item"><a href="talents.html">Talents</a></li>
          <li class="nav_item projects_nav">
            <a href="#">Projects <i class='bx bxs-chevron-down'></i></a>
            <ul class="sub_nav_list">
              <li class="sub_nav_item"><a href="ongoing_projects.html">Ongoing Projects</a></li>
              <hr>
              <li class="sub_nav_item"><a href="completed_projects.html">Completed Projects</a></li>
            </ul>
          </li>
          <li class="nav_item"><a href="hires.html">My Hires</a></li>
          <li class="nav_item mobile"><a href="ongoing_projects.html">Ongoing Projects</a></li>
          <li class="nav_item mobile"><a href="completed_projects.html">Completed Projects</a></li>
          <li class="nav_item mobile"><a href="account_setting.html">Account Setting</a></li>
          <li class="nav_item mobile"><a href="../login.html">Logout</a></li>
        </ul>
      </div>
      <div class="profile_wrapper">
         <button class="profile" aria-expanded="false"><img src="assets/images/tenzin-img.svg" alt="profile picture"></button> 
         <div class="profile_menu">
          <img src="assets/images/tenzin-img.svg" alt="profile picture">
          <h3 id="client_name">Tenzin Choda</h3>
          <h5>Client</h5>
          <ul>
              <li><a href="account_setting.html"><i class='bx bx-cog'></i> Account Settings</a></li>
              <li><a href="../login.html"><i class='bx bx-log-out'></i> Logout</a></li>
          </ul>
         </div>
      </div>
    </nav>
    <main>
      <h1>Account Settings</h1>
      <div class="personal_info">
        <div class="profile_img">
          <img src="assets/images/default_profile.svg" alt="profile" class="default_profile">
          <button class="change_profile_btn"><label for="profile" class="add_profile">Change Profile</label></button> 
          <input type="file" accept="image/jpeg, image/png, image/jpg" id="profile" name="profile" class="profile"></input>
        </div>
        <div class="details">
          <p>User ID: <span id="idValue" class="detail">12345678</span></p>
          <p>Full Name: <span id="nameValue" class="detail">Tenzin Choda</span></p>
          <p>Email: <span id="emailValue" class="detail">tenzin@example.com</span></p>
          <p>Phone Number: <span id="phone_numberValue" class="detail">17234567</span></p>
          <p>Address: <span><span id="regionValue" class="detail">Thimphu</span>, <span id="countryValue" class="detail">Bhutan</span></span></p>
        </div>
         <button class="edit_btn" id="edit_personal_info"><i class='bx bx-edit-alt'></i></button>
      </div>
      <div class="organization_info">
        <i class='bx bxs-business'></i>
        <div class="details">
          <p>Organization Name:</p>
          <p id="organization_nameValue">Druk Holding and Investment</p>
        </div>
        <button class="edit_btn" id="edit_organization_info"><i class='bx bx-edit-alt'></i></button>
      </div>
    </main>
    <dialog class="personal_info_modal">
      <form action="#">
        <div class="form_field">
          <label for="name">Full Name</label>
          <input type="text" id="name" name="Full Name">
          <small></small>
        </div>
        <div class="form_field">
          <label for="email">Email</label>
          <input type="email" id="email" name="Email">
        </div>
        <div class="form_field">
          <label for="phone_number">Phone Number</label>
          <input type="tel" id="phone_number" name="Phone Number" maxlength="8">
          <small></small>
        </div>
        <div class="form_field">
          <fieldset>
            <legend>Address</legend>
            <input type="text" id="country" name="address" placeholder="Country">
            <small></small>
            <input type="text" id="region" name="address" placeholder="City, Dzongkhag, Thromde">
            <small></small>
          </fieldset>
        </div>
        <div class="btns">
          <input type="reset" id="cancel_btn" value="Cancel">
          <input type="submit" id="save_btn" value="Save">
        </div>
      </form>
    </dialog>
    <dialog class="organization_info_modal">
      <form action="#">
        <div class="form_field">
          <label for="organization_name">Organization Name</label>
          <input type="text" id="organization_name" name="Organization Name">
        </div>
        <div class="btns">
          <input type="reset" id="cancel_btn" value="Cancel">
          <input type="submit" id="save_btn" value="Save">
        </div>
      </form>
    </dialog>
    <script src="assets/general.js"></script>
    <script>
      // opening the profile editing form
      const openModel1=document.querySelector('#edit_personal_info');
      const personalInfoModal= document.querySelector('.personal_info_modal');
      const closeModel1= document.querySelector('#cancel_btn');
      const openModel2= document.querySelector('#edit_organization_info');
      const organizationInfoModal= document.querySelector('.organization_info_modal');
      const closeModel2= document.querySelector('.organization_info_modal #cancel_btn');

      openModel1.addEventListener('click', ()=>{
        personalInfoModal.showModal();
        displayInitialValue();
      })
      closeModel1.addEventListener('click', ()=>{
        personalInfoModal.close();
      })
      
      openModel2.addEventListener('click', ()=>{
        organizationInfoModal.showModal();
        displayInitialValue();
      })
      closeModel2.addEventListener('click', ()=>{
        organizationInfoModal.close();
      })
        // getting the initial values in the input fields
        function displayInitialValue(){
          const nameValue= document.querySelector('#nameValue');
          const emailValue= document.querySelector('#emailValue');
          const phone_numberValue= document.querySelector('#phone_numberValue');
          const regionValue= document.querySelector('#regionValue');
          const countryValue= document.querySelector('#countryValue');
          const organization_nameValue= document.querySelector('#organization_nameValue');
    
          const name=document.querySelector('#name');
          const email=document.querySelector('#email');
          const phone_number=document.querySelector('#phone_number');
          const region=document.querySelector('#region');
          const country=document.querySelector('#country');
          const organization_name=document.querySelector('#organization_name');
    
          name.value=nameValue.innerText;
          email.value=emailValue.innerText;
          phone_number.value=phone_numberValue.innerText;
          region.value=regionValue.innerText;
          country.value=countryValue.innerText;
          organization_name.value=organization_nameValue.innerText;
        }

        // updating profile picture
        const profile= document.querySelector('.default_profile');
        const profileInput= document.querySelector('#profile');
        profileInput.onchange=function(){
          profile.src=URL.createObjectURL(profileInput.files[0]);
        }
    </script>
  </body>
</html>
